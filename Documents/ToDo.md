## ToDo Handlers

- [x] **~~make_contract (сделать договор с физ.лицами)~~** (2)
- [x] **~~anketa_link (ссылка на анкету)~~** (3)
- [x] **~~make_measure_contract (сделать договор на замеры)~~** (4)
- [ ] **profit_counter (подсчет прибыли)** (5)

### Идея

- Сделать в боте возможность закачивать звуковой файл и переводить его в текст!
- Сделать в админке и базе список всех объектов с автоприсвоением им названий из шаблона (по типу того, что есть у
  Флика)
- Усовершенствовать хенлер создания договора с физлицами, добавить запись данных в админ панель Django
- Закачать телеграм бот на Гитхаб
- **ДОБАВИТЬ РЕФЕРАЛЫ К ЗАКАЗЧИКАМ** (кто их рекомендовал) для построения "деревьев" и оценки заказчиков
- Усовершенствовать создание договора на замеры (админка, присвоение номера и т.д.)
- В логировании сделать запись в БД, поиск по логу и выдача тхт файла юзеру
- Украсить бот иллюстрациями
- Все фрагменты Договора записать в Джанго админ в БД:
  - text_12_bank_details_legal
  - text_12_bank_details_private
  - text_1_subject_of_the_contract_full_project
  - text_21_32_payment_procedure_full_project
  - text_5_obligations_of_the_customer_full_project
  - text_4_responsibilities_of_the_contractor_full_project
  - text_6_7_deadlines_6_stages
  - text
  - text_legal_entity
  
- ~~обновить requerements.txt~~

### profit counter

Нужно написать функции, которые будут
- Фильтровать определенную базу данных по значениям ячеек
- Выбирать временной диапазон (за определенный период) + где основание платежа такое-то
- Создавать списки со значениями
- Бот внесения дохода не отрабатывает (Нужно протестировать!)

```
    async def select_all_profit(self):
        sql = """
        SELECT * FROM Profit 
        """
        return await self.pool.fetch(sql)

    async def select_min_date_profit(self):
        sql = """
        SELECT date_right_format FROM Profit ORDER BY date_right_format  ;
        """
        return await self.pool.fetchval(sql)

    async def select_diapazon_profit(self, arg1, arg2):
        sql = f"""
        SELECT * FROM Profit WHERE date_right_format >= '{arg1}' AND date_right_format < '{arg2}';
        """
        
```

- [x]~~Доход за указанный месяц:
- [x]Доход за указанный год:
- [x]Доход за аналогичный период прошлого года: 
- [x]Разница в доходах с прошлым годом:~~
- [ ]Разница со средним доходом за весь период: 
- [x]~~Средний доход за весь период:~~ 
- [x]~~Доходы с комиссионных за весь период: 
- [x]Доходы с проектов за весь период: 
- [x]Доходы с авторского надзора за весь период: 
- [x]Доходы с обмеров за весь период: 
- [x]Доходы с планировки за весь период: 
- [x]Доходы с фор-проекта за весь период:~~ 
- [ ]Доходы от конкретного заказчика за весь период:

23/01/2024 
- Написать класс наследуемый от словаря, в котором можно изменять значение Value:
  - Суммировать
  - Отнимать
  - Делить
  - Умножать
  - Находить максимальное 
  - Находить минимальное значение
  - Делать списки и т.д.


